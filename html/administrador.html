<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>City Tree - Administrador</title>
    <link rel="stylesheet" href="../css/prueba-citytree.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <style>body { visibility: hidden; } </style>
</head>
<body>
    
    <header class="main-header">
        <div class="logo-section">
            <div class="logo-placeholder"><img src="../assets/icons/logo city free.png" alt="Logo City Tree"></div>
            <div>
                <h1>City Tree</h1>
                <p>Plataforma de gesti칩n de arbolado urbano</p>
            </div>
        </div>
        <div><button class="btn-3d home-icon" onclick="cerrarSesion()"><img src="../assets/icons/icono inicio.png" alt="Cerrar Sesi칩n"></button></div>
    </header>

<main class="admin-grid">
    
    <aside class="column col-left">
        <div class="card glass">
            <h2>Gesti칩n de mantenimientos</h2>
        <section class="card-mantenimiento solicitados">
            <h3>Mantenimientos solicitados</h3>
            <div class="list-scroll-buttons">
                <button class="pill btn-3d btn-mantenimientoBoton"id="mantenimientoBoton1"onclick="verDetalle(this.id)">34546565</button>
                <button class="pill btn-3d btn-mantenimientoBoton"id="mantenimientoBoton2"onclick="verDetalle(this.id)">09647836</button>
                <button class="pill btn-3d btn-mantenimientoBoton"id="mantenimientoBoton3"onclick="verDetalle(this.id)">47698654</button>
                <button class="pill btn-3d btn-mantenimientoBoton"id="mantenimientoBoton4"onclick="verDetalle(this.id)">10292873</button>
                <button class="pill btn-3d btn-mantenimientoBoton"id="mantenimientoBoton5"onclick="verDetalle(this.id)">10092742</button>
                <button class="pill btn-3d btn-mantenimientoBoton"id="mantenimientoBoton6"onclick="verDetalle(this.id)">09775323</button>
            </div>
        </section>

        <section class="card-mantenimiento asignados">
            <h3>Mantenimientos asignados</h3>
            <div class="list-scroll-buttons">
                <button class="pill btn-3d btn-mantenimientoBoton">34546565 <br> <span>M1 - Jose Torre</span></button>
                <button class="pill btn-3d btn-mantenimientoBoton">46456755 <br> <span>M2 - Carlos Rojas</span></button>
                <button class="pill btn-3d btn-mantenimientoBoton">46778097 <br> <span>M1 - Jose Torre</span></button>
                <button class="pill btn-3d btn-mantenimientoBoton">98577643 <br> <span>M2 - Carlos Rojas</span></button>
            </div>
            <div class="status-counter">
                <div>Pendientes <span class="badge">5</span></div>
                <div>Asignados <span class="badge">8</span></div>
                <div>Finalizados <span class="badge">6</span></div>
            </div>
        </section>
        </div>
    </aside>

    <aside class="column col-center">
    <div class="card glass">    
        <h2>ADMINISTRADOR</h2>
        
        <div class="user-management list-scroll-buttons">
            <h4>Gestion de Usuarios</h4>
            <table class="user-table">
            <table border="1">
                <thhead>
                    <tr>
                        <th>ID</th><th>Nombre</th><th>Apellido</th><th>Rol</th><th>estado</th>
                    </tr>
                </thhead>
                <tbody id="tablaUsuarios"></tbody>
            </table>
            <button  onclick= "mostrarModal('Nuevo usuario')" class ="btn-3d btn-adminisPersonal"> Nuevo Usuario </button>

        </div>
    </div>
    
    <div id="modalUsuario" class="modal hidden">
        <div class="modalUsu-contenido">
            <h3 id="tituloModal">Nuevo usuario</h3>

            <label>Nombre</label><input type="text" id="nombre">
            <label>Apellido</label><input type="text" id="apellido">
            <label>Correo</label><input type="email" id="correo">
            <label>Rol</label><select id="rol">
                <option value="Ingeniero de campo">Ingeniero de campo</option>
                <option value="Administrador">Administrador</option>
                <option value="Mantenimiento">Mantenimiento</option>
                </select>

                <div class="acciones">
                    <button onclick="guardarUsuario()"  class ="btn-3d btn-adminisPersonal">Guardar</button>
                    <button onclick="cerrarModal()"  class ="btn-3d btn-adminisPersonal">Cancelar</button>
                </div>
        </div>
    </div>


    <div class="card glass">
        <div class="consulta-admi">
            <h4>Consulta de especimen</h4>
            <div class="search-bar">
                <span class="search-icon">游댌</span>
                <input type="text" placeholder="XXXXXXXX">
            </div>     
    </div>        
                    <div id="map-ubicamap" class="map-ubicamap"></div>        
        </aside>

    <aside class="column col-right">

        <section class="card-informes">
            <h3>Informes</h3>  
                <div class="info-box">
                    <p>Arboles registrados:</p>
                    <span class="count">5890</span>
                </div>
                <div class="info-box">
                    <p>porcentaje de avance:</p>
                    <span class="count">75 %</span>
                </div>
                <div class="info-box">
                    <p>total mantenimientos:</p>
                    <span class="count">89</span>
                </div>
        </section>

        <section class="card-reportes-ciudadanos">
            <h3>Reporte ciudadano</h3>
            <h4>Consulta pendiente</h4>
                <div class="list-scroll-buttons">
                    <button class="pill btn-3d btn-reporteCiudadano">Reporte 1</button>
                    <button class="pill btn-3d btn-reporteCiudadano">Reporte 2</button>
                    <button class="pill btn-3d btn-reporteCiudadano">Reporte 3</button>
            </div>
        </section>
    </aside>
</main>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="../prueba.citytree.js"></script>
    <script>
        // Proteger esta p치gina: solo administradores
        if (protegerPagina(["admin"])) {
            document.body.style.visibility = "visible";
        }
    </script>
</body>
</html>